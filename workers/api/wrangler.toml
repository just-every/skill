name = "starter-worker"
main = "src/index.ts"
compatibility_date = "2024-09-01"
compatibility_flags = ["nodejs_compat"]
send_metrics = false

workers_dev = true

[assets]
binding = "ASSETS"
directory = "../../apps/web/dist"

# This file is rendered by the bootstrap CLI. Placeholders like starter are replaced
# with explicit .env inputs or generated identifiers recorded in .env.local.generated.
[vars]
# --- Authentication ---
LOGIN_ORIGIN = "https://login.justevery.com"
SESSION_COOKIE_DOMAIN = ".justevery.com"

# --- Application URLs ---
PROJECT_DOMAIN = "https://starter.justevery.com"
APP_BASE_URL = "/app"

# --- Stripe ---
STRIPE_PRODUCTS = '''[{"id":"prod_TNHA7XzCAXqNfU","name":"Founders","priceId":"price_1SQWcDGD1Q57MReNLuvln86m","unitAmount":2500,"currency":"usd","interval":"month","metadata":{}},{"id":"prod_TNHAmpDbavwPfp","name":"Scale","priceId":"price_1SQWcDGD1Q57MReNhTRLLXWa","unitAmount":4900,"currency":"usd","interval":"month","metadata":{}}]'''
EXPO_PUBLIC_WORKER_ORIGIN = "https://starter.justevery.com"

# --- Cloudflare metadata ---
CLOUDFLARE_ZONE_ID = "723318de8bc1f3353196efc02c4a09ed"

[[d1_databases]]
binding = "DB"
database_name = "starter-d1"
database_id = "94e98a62-69a0-49e2-86ab-283c9e75fa52"
migrations_dir = "migrations"

[[r2_buckets]]
binding = "STORAGE"
bucket_name = "starter-assets"

[[routes]]
pattern = "starter.justevery.com"
custom_domain = true

[observability]
enabled = false

[limits]
cpu_ms = 5000

[[services]]
binding = "LOGIN_SERVICE"
service = "login"
environment = "production"
